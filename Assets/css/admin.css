:root{
  --bg:#0b0d12; --bg2:#0f1115; --muted:#98a6bd; --text:#e8eaf0; --border:#1b2130;
  --brand:#8fd3ff; --accent:#2ecc71; --danger:#e74c3c;
}

*{box-sizing:border-box}
html,body{height:100%}
body.admin-body{margin:0;background:var(--bg);color:var(--text)}

/* Sidebar */
.admin-sidebar{
  position:fixed; top:0; left:0; bottom:0; width:260px;
  background:var(--bg2); border-right:1px solid var(--border);
  padding:16px; overflow-y:auto;
}
.admin-userbox{display:flex;gap:12px;align-items:center;margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid var(--border)}
.admin-userbox .avatar{width:48px;height:48px;border-radius:50%;background:#1b2130;display:flex;align-items:center;justify-content:center;font-weight:800;color:var(--brand)}
.admin-userbox .hello{font-size:12px;color:var(--muted)}
.admin-userbox .name{font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:140px}
.admin-userbox .role{font-size:12px;color:var(--muted)}
.admin-nav{display:flex;flex-direction:column;gap:6px}
.admin-nav .item{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:10px;color:#cfd6e4;text-decoration:none}
.admin-nav .item:hover,.admin-nav .item.active{background:#121722;color:var(--brand)}
.admin-nav .sep{height:1px;background:var(--border);margin:8px 0}

/* Área derecha */
.admin-right{
  margin-left:260px; min-height:100vh;
  display:flex; flex-direction:column;
}

/* TOPBAR: visible, pegado arriba, z-index alto */
.admin-topbar{
  position:sticky; top:0; z-index:1030;
  background:var(--bg2);
  border-bottom:1px solid var(--border);
}
.topbar-inner{
  width:85%; margin:0 auto;
  height:64px; display:flex; align-items:center; justify-content:space-between;
}
.brand{display:flex;align-items:center;gap:10px;color:var(--brand);font-weight:700}
.brand img{width:28px;height:28px;border-radius:6px}
.welcome{color:#cfd6e4}

/* CONTENIDO: ancho 85% centrado debajo del topbar */
.admin-content{
  width:85%; margin:16px auto 40px; padding:24px;
}

/* Footer admin */
.admin-footer{
  margin-top:auto; border-top:1px solid var(--border);
  padding:12px 24px; color:var(--muted);
}

/* Tarjetas (opcional) */
.card{border-radius:14px; overflow:hidden}
.card-header{background:rgba(255,255,255,0.02)}

/* Responsive */
@media (max-width: 992px){
  .admin-sidebar{transform:translateX(-100%);transition:.25s ease}
  .admin-right{margin-left:0}
  .topbar-inner,.admin-content{width:94%}
}
.admin-topbar{ position:sticky; top:0; z-index:1030; background:#0f1115; border-bottom:1px solid #1b2130; }
.topbar-inner{ width:85%; margin:0 auto; height:64px; display:flex; align-items:center; justify-content:space-between; }
.admin-content{ width:85%; margin:16px auto 40px; padding:24px; }
.topbar-actions{display:flex;align-items:center;gap:8px}
.icon-btn{
  position:relative; width:40px; height:40px; border-radius:10px;
  background:#121722; color:#cfd6e4; border:1px solid var(--border);
  display:inline-flex; align-items:center; justify-content:center; cursor:pointer;
}
.icon-btn:hover{color:var(--brand); border-color:#283044}
.badge-dot{
  position:absolute; top:6px; right:6px; width:8px; height:8px;
  background:#e74c3c; border-radius:50%; box-shadow:0 0 0 2px var(--bg2);
}
.dropdown-menu-dark{background:#0f1115; color:#e8eaf0; border:1px solid var(--border)}
.dropdown-item{color:#cfd6e4}
.dropdown-item:hover{color:#8fd3ff; background:#121722}
/* tablero básico */
  #board { position: relative; width: 520px; max-width: 100%; margin: 0 auto; }
  .ajz-tablero {
    display: grid; grid-template-columns: repeat(8,1fr); grid-template-rows: repeat(8,1fr);
    width: 100%; height: 100%; border: 2px solid #444; border-radius: 8px; overflow: hidden;
  }
  .ajz-casilla { display:flex; align-items:center; justify-content:center; font-size: 40px; }
  .ajz-casilla.clara { background: #eee; }
  .ajz-casilla.oscura { background: #9ab; }

/* Centrar y dar hueco al tablero */
.editor-card .card-body{
  display:flex; align-items:center; justify-content:center;
  min-height: 520px;   /* asegura hueco visible */
}

/* El tablero SIEMPRE visible y cuadrado */
#board{
  display:block;
  width: min(560px, 100%);
  aspect-ratio: 1 / 1;         /* alto = ancho (navegadores modernos) */
  background:#111;
  border:3px solid #444;
  border-radius:12px;
  position:relative;
}

/* Grid y casillas */
#board .ajz-grid{
  display:grid;
  grid-template-columns: repeat(8, 1fr);
  grid-template-rows:    repeat(8, 1fr);
  width:100%; height:100%;
  overflow:hidden; border-radius:10px;
}
#board .ajz-sq{
  display:flex; align-items:center; justify-content:center;
  font-family:"Noto Sans Symbols 2","DejaVu Sans","Segoe UI Symbol","Symbola","FreeSerif",system-ui,Arial,sans-serif;
  font-size: clamp(22px, 7vw, 42px);
  line-height:1; user-select:none; color:#111;
}

/* DEBUG (temporal): contornos para ver si existe y cuánto mide */
#board{ outline: 2px dashed #ff00aa; }      /* quítalo luego */
#board .ajz-sq{ outline: 1px dashed #00ffaa22; } /* quítalo luego */
/* Sidebar: alineación a la izquierda y ancho cómodo */
.admin-sidebar {
  width: 260px;
}
.admin-nav {
  display: flex;
  flex-direction: column;
  align-items: stretch;          /* izquierda */
  gap: .25rem;
  padding: .5rem;
}
.admin-nav .item {
  display: flex;
  align-items: center;
  gap: .6rem;
  padding: .55rem .75rem;
  text-decoration: none;
  color: #cbd5e1;               /* gris claro */
  border-radius: .5rem;
}
.admin-nav .item i {
  width: 1.25rem;
  text-align: center;
  color: #fff;
}
.admin-nav .item:hover {
  background: #1f2937;          /* gris oscuro */
  color: #fff;
}
.admin-nav .item.active {
  background: #0d6efd;
  color: #fff;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.15);
}
.torneo-flip { perspective: 1000px; }
.torneo-flip-inner {
  position: relative; width: 100%; min-height: 320px;
  transform-style: preserve-3d; transition: transform .6s ease;
}
.torneo-flip.is-flipped .torneo-flip-inner { transform: rotateY(180deg); }
.torneo-cara {
  position: absolute; inset: 0; backface-visibility: hidden; border-radius: 1rem; overflow: hidden;
}
.torneo-trasera { transform: rotateY(180deg); }
/* Sidebar dropdowns ocupando ancho completo y sin posicionamiento absoluto */
.admin-nav .dropdown-menu {
  position: static; /* importante: que no sea absolute en el sidebar */
  float: none;
  inset: auto;
  margin: 0;
  border: 0;
  border-radius: 0;
  width: 100%;
  background-color: #1c1f22; /* a juego con tu tema oscuro */
}

.admin-nav .dropdown-menu{
  position: static; inset: auto; float: none; margin: 0; border: 0; border-radius: 0; width: 100%;
  background-color:#1c1f22;
}
.admin-nav .dropdown-toggle::after{ margin-left:auto; }
.admin-nav .item.active, .admin-nav .dropdown-toggle.active{ background:#0d6efd; color:#fff; }
.admin-nav .dropdown-item.active{ background:rgba(13,110,253,.2); color:#fff; }

.bubble{ max-width: 780px; border:1px solid var(--u-bdr); background:#111827; color:var(--u-text); padding:10px 12px; border-radius:12px; }
.bubble.own{ background:#1b253b; border-color:#273656; }
.msg-img{ max-width:240px; max-height:240px; border-radius:8px; display:block; }
.msg-video{ width:360px; max-width:100%; border-radius:8px; display:block; background:#000; }
/* --- Uploader --- */
.dropzone{
  border: 1px dashed var(--u-bdr);
  background: #0e1422;
  border-radius: 12px;
  padding: 14px;
  color: var(--u-muted);
  text-align: center;
  transition: border-color .2s, background .2s;
  cursor: pointer;
}
.dropzone:hover{ background:#0f172a; }
.dropzone.is-drag{ border-color:#4f87ff; background:#0c142a; color:#bdd2ff; }

.uploader-preview{
  display:flex; flex-wrap:wrap; gap:10px; margin-top:10px;
}
.preview-item{
  position:relative; border:1px solid var(--u-bdr); border-radius:10px; padding:6px; background:#0b0f1a;
}
.preview-item img{ display:block; max-width:160px; max-height:120px; border-radius:6px; }
.preview-item .vid{ display:flex; align-items:center; gap:6px; color:#1c1d1f; font-size:.9rem; }
.preview-item .remove{
  position:absolute; top:6px; right:6px;
  width:22px; height:22px; border-radius:50%;
  border:1px solid #2a3758; background:#141a2a; color:#cfd9ff;
  display:flex; align-items:center; justify-content:center;
}
.preview-item .remove:hover{ background:#1a2238; }
/* Progreso subida */
.uploader-progress-wrap { display:none; }
.uploader-progress-wrap.show { display:block; }
.progress { height: 10px; background:#0e1422; border-radius: 10px; }
.progress-bar { background: linear-gradient(90deg,#3b82f6,#22c55e); }
.progress-foot { display:flex; justify-content:space-between; font-size:.85rem; color:var(--u-muted); margin-top:6px; }
